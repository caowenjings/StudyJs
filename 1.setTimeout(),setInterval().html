<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>homework-web</title>
    <style type="text/css">

    </style>
</head>

<body>

    <div id="demo">
    </div>



    <script>
        const timer = function () {
            var times = 1000 + Date.now()
            var count = 0
            var i = setInterval(function () {
                if (Date.now() > times) {
                    clearInterval(i)
                    console.log('count', count)
                }
                count++
            }, 0)
        }
        // timer()

        /*
        1.1.基本语法
         setTimeout 是推迟一段时间执行
         setTimeout(func|code, delay); 两个参数 执行函数/函数名，推迟时间
        */
        function test() {
            console.log(1);
            setTimeout(() => { console.log(2) }, 1000);
            console.log(3);
        }

        /*
        1.2.setTimeout允许更多的参数，后面的参数是回调函数的参数
        */
        function f(a, b) {
            console.log(a, b)
        }
        function test1() {
            setTimeout(f, 1000, 4, 6);
        }


        function test2() {
            setTimeout((a, b) => {
                console.log(a + b)
            }, 1000, 4, 6);
        }

        //1.3. 回调函数是对象的方法，this的指向是全局

        function test3() {
            var x = 1;

            var obj = {
                x: 2,
                y: function () {
                    console.log(this.x);
                }
            };
            setTimeout(obj.y, 1000)
        }


        //2.1  setInterval 每隔一段时间执行一次，无限制的
        function test4() {
            setInterval(() => {
                console.log(7)
            }, 1);
        }

        // test4()

        //2.2用setTimeout实现setInterval的功能
        let s
        function fun() {
            console.log(1)
            s = setTimeout(fun, 1000);
        }
        //fun();

        //2.3用setTimeout实现倒计时

        var t, num = 6;
        function timeDown() {
            num--;
            document.getElementById('demo').innerHTML = num;
            t = setTimeout(() => {
                timeDown();
            }, 1000);
            if (num <= 0) {
                clearTimeout(t);
            }
        }
        // timeDown();

        function timeDown1() {
            num--;
            document.getElementById('demo').innerHTML = num;
            if (num <= 0) {
                clearInterval(t)
            }
        }

        t = setInterval(() => {
            timeDown1();
        }, 1000);










    </script>
</body>

</html>